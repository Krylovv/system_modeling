# Задание 2. Генератор псевдослучайных чисел
## Содержимое [репозитория](https://github.com/Krylovv/system_modeling/edit/main/Task2/README.md):
- файл `mersenne_tempest.py` содержит класс генератора псевдослучайных чисел
- файл `test.py` содержит класс с двумя имплементациями критерия Колмогорова-Смирнова
- файл `main.py` является файлом вызова объектов обоих вышеуказанных классов
- файл `Notebook.ipynb` - Jupyter Notebook с наглядным выводом выполнения реализованных методов

## Алгоритм генератора
Поскольку задание предполагало сравнение написанного генератора с библиотечным решением, было решено
изучить, какие алгоритмы используются в библиотеках генерации псевдослучайных чисел в Python. Было
выяснено, что самый популярный модуль random использует алгоритм "Вихрь Мерсенна". Этот алгоритм 
использует тонко подобранные параметры и побитовые операции. В основе создания алгоритма лежит идея
высокой периодичности: период составляет 2<sup>19937</sup> - 1 (и является числом Мерсенна).

### Основные шаги алгоритма:
- Инициализация состояния - создается массив длиной *N* и заполненяется значениями на основе *seed* и формулы ![Screenshot 2025-01-19 at 21.12.33.png](resources%2FScreenshot%202025-01-19%20at%2021.12.33.png)
- Затем вызывается метод twist, который перемешивает значения массива, используя маски и побитовые операции![Screenshot 2025-01-19 at 21.15.34.png](resources%2FScreenshot%202025-01-19%20at%2021.15.34.png)
- В конце вызывается метод temper, который выполняет темперацию значений, совершая побитовые операции над выходящим элементом,
используя заранее подобранные коэффициенты

## Тестирование
Период для алгоритма Вихрь Мерсенна определен математически и составляет 2<sup>19937</sup> - 1, поэтому тестирование на поиск периода отдельно не проводилось.
Было проведено две версии теста Колмогорова-Смирнова для определения равномерности распределения выборки. На основе данного теста и полученного
p-value проведено сравнение с библиотечным генератором. Также для визуального контроля были построены графики тестируемых выборок.

### Критерий Колмогорова-Смирнова
Критерий Колмогорова-Смирнова строится на максимальном отклонении исследуемой функции распределения и теоретической функции распределения.
В эксперименте рассматривается равномерное распределение, с ним сравнивается выборка сгенерированных псевдослучайных чисел.
Данный тест чуствителен к размеру выборки. Минимальным протестированным размером стала выборка из 10000 чисел, максимальным - 10000000 чисел.

Реализовано две версии тестирования. Одна - методом kstest из библиотеки scipy. Другая - перенос приведенной на лекции функции на языке C++.  
Оба теста показали идентичные результаты.
## Результаты
Для обоих генераторов гипотеза о равномерном распределении подтверждена. p-value не показывает преимущество одного генератора над другим.
Визуально выборки соответствуют описанию равномерного распределения, особенно наглядно на максимальных размерах выборки.
[Ссылка на Jupyter Notebook](Notebook.ipynb)
